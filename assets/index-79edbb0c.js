var Ue=Object.defineProperty;var He=(e,t,r)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ve=(e,t,r)=>(He(e,typeof t!="symbol"?t+"":t,r),r),ze=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var oe=(e,t,r)=>(ze(e,t,"read from private field"),r?r.call(e):t.get(e)),be=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},xe=(e,t,r,n)=>(ze(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))n(v);new MutationObserver(v=>{for(const f of v)if(f.type==="childList")for(const b of f.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&n(b)}).observe(document,{childList:!0,subtree:!0});function r(v){const f={};return v.integrity&&(f.integrity=v.integrity),v.referrerPolicy&&(f.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?f.credentials="include":v.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function n(v){if(v.ep)return;v.ep=!0;const f=r(v);fetch(v.href,f)}})();function ye(){return ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(this,arguments)}var ue;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ue||(ue={}));var Oe=function(e){return e},Ne="beforeunload",We="popstate";function Ge(e){e===void 0&&(e={});var t=e,r=t.window,n=r===void 0?document.defaultView:r,v=n.history;function f(){var E=n.location,L=E.pathname,P=E.search,z=E.hash,D=v.state||{};return[D.idx,Oe({pathname:L,search:P,hash:z,state:D.usr||null,key:D.key||"default"})]}var b=null;function C(){if(b)G.call(b),b=null;else{var E=ue.Pop,L=f(),P=L[0],z=L[1];if(G.length){if(P!=null){var D=W-P;D&&(b={action:E,location:z,retry:function(){Z(D*-1)}},Z(D))}}else Q(E)}}n.addEventListener(We,C);var T=ue.Pop,H=f(),W=H[0],k=H[1],R=Ie(),G=Ie();W==null&&(W=0,v.replaceState(ye({},v.state,{idx:W}),""));function j(E){return typeof E=="string"?E:qe(E)}function X(E,L){return L===void 0&&(L=null),Oe(ye({pathname:k.pathname,hash:"",search:""},typeof E=="string"?Ze(E):E,{state:L,key:$e()}))}function ee(E,L){return[{usr:E.state,key:E.key,idx:L},j(E)]}function ne(E,L,P){return!G.length||(G.call({action:E,location:L,retry:P}),!1)}function Q(E){T=E;var L=f();W=L[0],k=L[1],R.call({action:T,location:k})}function q(E,L){var P=ue.Push,z=X(E,L);function D(){q(E,L)}if(ne(P,z,D)){var x=ee(z,W+1),J=x[0],Y=x[1];try{v.pushState(J,"",Y)}catch{n.location.assign(Y)}Q(P)}}function y(E,L){var P=ue.Replace,z=X(E,L);function D(){y(E,L)}if(ne(P,z,D)){var x=ee(z,W),J=x[0],Y=x[1];v.replaceState(J,"",Y),Q(P)}}function Z(E){v.go(E)}var te={get action(){return T},get location(){return k},createHref:j,push:q,replace:y,go:Z,back:function(){Z(-1)},forward:function(){Z(1)},listen:function(L){return R.push(L)},block:function(L){var P=G.push(L);return G.length===1&&n.addEventListener(Ne,Me),function(){P(),G.length||n.removeEventListener(Ne,Me)}}};return te}function Me(e){e.preventDefault(),e.returnValue=""}function Ie(){var e=[];return{get length(){return e.length},push:function(r){return e.push(r),function(){e=e.filter(function(n){return n!==r})}},call:function(r){e.forEach(function(n){return n&&n(r)})}}}function $e(){return Math.random().toString(36).substr(2,8)}function qe(e){var t=e.pathname,r=t===void 0?"/":t,n=e.search,v=n===void 0?"":n,f=e.hash,b=f===void 0?"":f;return v&&v!=="?"&&(r+=v.charAt(0)==="?"?v:"?"+v),b&&b!=="#"&&(r+=b.charAt(0)==="#"?b:"#"+b),r}function Ze(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var de=Ge(),B=function(){return B=Object.assign||function(t){for(var r,n=1,v=arguments.length;n<v;n++){r=arguments[n];for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&(t[f]=r[f])}return t},B.apply(this,arguments)};typeof window<"u"&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),typeof window.CustomEvent!="function"&&(window.CustomEvent=function(t,r){r=r||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r.bubbles,r.cancelable,r.detail),n}));function Ve(e,t){for(var r=e.length;r--;)if(e[r].pointerId===t.pointerId)return r;return-1}function Ce(e,t){var r;if(t.touches){r=0;for(var n=0,v=t.touches;n<v.length;n++){var f=v[n];f.pointerId=r++,Ce(e,f)}return}r=Ve(e,t),r>-1&&e.splice(r,1),e.push(t)}function Ke(e,t){if(t.touches){for(;e.length;)e.pop();return}var r=Ve(e,t);r>-1&&e.splice(r,1)}function De(e){e=e.slice(0);for(var t=e.pop(),r;r=e.pop();)t={clientX:(r.clientX-t.clientX)/2+t.clientX,clientY:(r.clientY-t.clientY)/2+t.clientY};return t}function Ee(e){if(e.length<2)return 0;var t=e[0],r=e[1];return Math.sqrt(Math.pow(Math.abs(r.clientX-t.clientX),2)+Math.pow(Math.abs(r.clientY-t.clientY),2))}var pe={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};typeof window<"u"&&(typeof window.PointerEvent=="function"?pe={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:typeof window.TouchEvent=="function"&&(pe={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));function Se(e,t,r,n){pe[e].split(" ").forEach(function(v){t.addEventListener(v,r,n)})}function Le(e,t,r){pe[e].split(" ").forEach(function(n){t.removeEventListener(n,r)})}var je=typeof document<"u"&&!!document.documentMode,_e;function Qe(){return _e||(_e=document.createElement("div").style)}var Ye=["webkit","moz","ms"],he={};function Pe(e){if(he[e])return he[e];var t=Qe();if(e in t)return he[e]=e;for(var r=e[0].toUpperCase()+e.slice(1),n=Ye.length;n--;){var v="".concat(Ye[n]).concat(r);if(v in t)return he[e]=v}}function ge(e,t){return parseFloat(t[Pe(e)])||0}function me(e,t,r){r===void 0&&(r=window.getComputedStyle(e));var n=t==="border"?"Width":"";return{left:ge("".concat(t,"Left").concat(n),r),right:ge("".concat(t,"Right").concat(n),r),top:ge("".concat(t,"Top").concat(n),r),bottom:ge("".concat(t,"Bottom").concat(n),r)}}function fe(e,t,r){e.style[Pe(t)]=r}function Je(e,t){var r=Pe("transform");fe(e,"transition","".concat(r," ").concat(t.duration,"ms ").concat(t.easing))}function et(e,t,r){var n=t.x,v=t.y,f=t.scale,b=t.isSVG;if(fe(e,"transform","scale(".concat(f,") translate(").concat(n,"px, ").concat(v,"px)")),b&&je){var C=window.getComputedStyle(e).getPropertyValue("transform");e.setAttribute("transform",C)}}function Ae(e){var t=e.parentNode,r=window.getComputedStyle(e),n=window.getComputedStyle(t),v=e.getBoundingClientRect(),f=t.getBoundingClientRect();return{elem:{style:r,width:v.width,height:v.height,top:v.top,bottom:v.bottom,left:v.left,right:v.right,margin:me(e,"margin",r),border:me(e,"border",r)},parent:{style:n,width:f.width,height:f.height,top:f.top,bottom:f.bottom,left:f.left,right:f.right,padding:me(t,"padding",n),border:me(t,"border",n)}}}function tt(e){var t=e.ownerDocument,r=e.parentNode;return t&&r&&t.nodeType===9&&r.nodeType===1&&t.documentElement.contains(r)}function rt(e){return(e.getAttribute("class")||"").trim()}function nt(e,t){return e.nodeType===1&&" ".concat(rt(e)," ").indexOf(" ".concat(t," "))>-1}function at(e,t){for(var r=e;r!=null;r=r.parentNode)if(nt(r,t.excludeClass)||t.exclude.indexOf(r)>-1)return!0;return!1}var it=/^http:[\w\.\/]+svg$/;function ot(e){return it.test(e.namespaceURI)&&e.nodeName.toLowerCase()!=="svg"}function ct(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}var Fe={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:function(e){e.preventDefault(),e.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,pinchAndPan:!1,relative:!1,setTransform:et,startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function Be(e,t){if(!e)throw new Error("Panzoom requires an element as an argument");if(e.nodeType!==1)throw new Error("Panzoom requires an element with a nodeType of 1");if(!tt(e))throw new Error("Panzoom should be called on elements that have been attached to the DOM");t=B(B({},Fe),t);var r=ot(e),n=e.parentNode;n.style.overflow=t.overflow,n.style.userSelect="none",n.style.touchAction=t.touchAction,(t.canvas?n:e).style.cursor=t.cursor,e.style.userSelect="none",e.style.touchAction=t.touchAction,fe(e,"transformOrigin",typeof t.origin=="string"?t.origin:r?"0 0":"50% 50%");function v(){n.style.overflow="",n.style.userSelect="",n.style.touchAction="",n.style.cursor="",e.style.cursor="",e.style.userSelect="",e.style.touchAction="",fe(e,"transformOrigin","")}function f(a){a===void 0&&(a={});for(var o in a)a.hasOwnProperty(o)&&(t[o]=a[o]);(a.hasOwnProperty("cursor")||a.hasOwnProperty("canvas"))&&(n.style.cursor=e.style.cursor="",(t.canvas?n:e).style.cursor=t.cursor),a.hasOwnProperty("overflow")&&(n.style.overflow=a.overflow),a.hasOwnProperty("touchAction")&&(n.style.touchAction=a.touchAction,e.style.touchAction=a.touchAction)}var b=0,C=0,T=1,H=!1;X(t.startScale,{animate:!1,force:!0}),setTimeout(function(){j(t.startX,t.startY,{animate:!1,force:!0})});function W(a,o,s){if(!s.silent){var c=new CustomEvent(a,{detail:o});e.dispatchEvent(c)}}function k(a,o,s){var c={x:b,y:C,scale:T,isSVG:r,originalEvent:s};return requestAnimationFrame(function(){typeof o.animate=="boolean"&&(o.animate?Je(e,o):fe(e,"transition","none")),o.setTransform(e,c,o),W(a,c,o),W("panzoomchange",c,o)}),c}function R(a,o,s,c){var u=B(B({},t),c),l={x:b,y:C,opts:u};if(!u.force&&(u.disablePan||u.panOnlyWhenZoomed&&T===u.startScale))return l;if(a=parseFloat(a),o=parseFloat(o),u.disableXAxis||(l.x=(u.relative?b:0)+a),u.disableYAxis||(l.y=(u.relative?C:0)+o),u.contain){var d=Ae(e),S=d.elem.width/T,_=d.elem.height/T,A=S*s,O=_*s,V=(A-S)/2,K=(O-_)/2;if(u.contain==="inside"){var ae=(-d.elem.margin.left-d.parent.padding.left+V)/s,F=(d.parent.width-A-d.parent.padding.left-d.elem.margin.left-d.parent.border.left-d.parent.border.right+V)/s;l.x=Math.max(Math.min(l.x,F),ae);var g=(-d.elem.margin.top-d.parent.padding.top+K)/s,w=(d.parent.height-O-d.parent.padding.top-d.elem.margin.top-d.parent.border.top-d.parent.border.bottom+K)/s;l.y=Math.max(Math.min(l.y,w),g)}else if(u.contain==="outside"){var ae=(-(A-d.parent.width)-d.parent.padding.left-d.parent.border.left-d.parent.border.right+V)/s,F=(V-d.parent.padding.left)/s;l.x=Math.max(Math.min(l.x,F),ae);var g=(-(O-d.parent.height)-d.parent.padding.top-d.parent.border.top-d.parent.border.bottom+K)/s,w=(K-d.parent.padding.top)/s;l.y=Math.max(Math.min(l.y,w),g)}}return u.roundPixels&&(l.x=Math.round(l.x),l.y=Math.round(l.y)),l}function G(a,o){var s=B(B({},t),o),c={scale:T,opts:s};if(!s.force&&s.disableZoom)return c;var u=t.minScale,l=t.maxScale;if(s.contain){var d=Ae(e),S=d.elem.width/T,_=d.elem.height/T;if(S>1&&_>1){var A=d.parent.width-d.parent.border.left-d.parent.border.right,O=d.parent.height-d.parent.border.top-d.parent.border.bottom,V=A/S,K=O/_;t.contain==="inside"?l=Math.min(l,V,K):t.contain==="outside"&&(u=Math.max(u,V,K))}}return c.scale=Math.min(Math.max(a,u),l),c}function j(a,o,s,c){var u=R(a,o,T,s);return b!==u.x||C!==u.y?(b=u.x,C=u.y,k("panzoompan",u.opts,c)):{x:b,y:C,scale:T,isSVG:r,originalEvent:c}}function X(a,o,s){var c=G(a,o),u=c.opts;if(!(!u.force&&u.disableZoom)){a=c.scale;var l=b,d=C;if(u.focal){var S=u.focal;l=(S.x/a-S.x/T+b*a)/a,d=(S.y/a-S.y/T+C*a)/a}var _=R(l,d,a,{relative:!1,force:!0});return b=_.x,C=_.y,T=a,k("panzoomzoom",u,s)}}function ee(a,o){var s=B(B(B({},t),{animate:!0}),o);return X(T*Math.exp((a?1:-1)*s.step),s)}function ne(a){return ee(!0,a)}function Q(a){return ee(!1,a)}function q(a,o,s,c){var u=Ae(e),l={width:u.parent.width-u.parent.padding.left-u.parent.padding.right-u.parent.border.left-u.parent.border.right,height:u.parent.height-u.parent.padding.top-u.parent.padding.bottom-u.parent.border.top-u.parent.border.bottom},d=o.clientX-u.parent.left-u.parent.padding.left-u.parent.border.left-u.elem.margin.left,S=o.clientY-u.parent.top-u.parent.padding.top-u.parent.border.top-u.elem.margin.top;r||(d-=u.elem.width/T/2,S-=u.elem.height/T/2);var _={x:d/l.width*(l.width*a),y:S/l.height*(l.height*a)};return X(a,B(B({},s),{animate:!1,focal:_}),c)}function y(a,o){a.preventDefault();var s=B(B(B({},t),o),{animate:!1}),c=a.deltaY===0&&a.deltaX?a.deltaX:a.deltaY,u=c<0?1:-1,l=G(T*Math.exp(u*s.step/3),s).scale;return q(l,a,s,a)}function Z(a){var o=B(B(B({},t),{animate:!0,force:!0}),a);T=G(o.startScale,o).scale;var s=R(o.startX,o.startY,T,o);return b=s.x,C=s.y,k("panzoomreset",o)}var te,E,L,P,z,D,x=[];function J(a){if(!at(a.target,t)){Ce(x,a),H=!0,t.handleStartEvent(a),te=b,E=C,W("panzoomstart",{x:b,y:C,scale:T,isSVG:r,originalEvent:a},t);var o=De(x);L=o.clientX,P=o.clientY,z=T,D=Ee(x)}}function Y(a){if(!(!H||te===void 0||E===void 0||L===void 0||P===void 0)){Ce(x,a);var o=De(x),s=x.length>1,c=T;if(s){D===0&&(D=Ee(x));var u=Ee(x)-D;c=G(u*t.step/80+z).scale,q(c,o,{animate:!1},a)}(!s||t.pinchAndPan)&&j(te+(o.clientX-L)/c,E+(o.clientY-P)/c,{animate:!1},a)}}function p(a){x.length===1&&W("panzoomend",{x:b,y:C,scale:T,isSVG:r,originalEvent:a},t),Ke(x,a),H&&(H=!1,te=E=L=P=void 0)}var i=!1;function h(){i||(i=!0,Se("down",t.canvas?n:e,J),Se("move",document,Y,{passive:!0}),Se("up",document,p,{passive:!0}))}function m(){i=!1,Le("down",t.canvas?n:e,J),Le("move",document,Y),Le("up",document,p)}return t.noBind||h(),{bind:h,destroy:m,eventNames:pe,getPan:function(){return{x:b,y:C}},getScale:function(){return T},getOptions:function(){return ct(t)},handleDown:J,handleMove:Y,handleUp:p,pan:j,reset:Z,resetStyle:v,setOptions:f,setStyle:function(a,o){return fe(e,a,o)},zoom:X,zoomIn:ne,zoomOut:Q,zoomToPoint:q,zoomWithWheel:y}}Be.defaultOptions=Fe;var ce,se;class st{constructor(t){be(this,ce,void 0);be(this,se,void 0);ve(this,"handleElementDoubleClick",(t,r)=>{const n=structurizr.workspace.findElementById(r);switch(n.url&&window.open(n.url,"_blank"),n.type){case structurizr.constants.SOFTWARE_SYSTEM_ELEMENT_TYPE:this.navigateToSoftwareSystem(n);break;case structurizr.constants.CONTAINER_ELEMENT_TYPE:this.navigateToContainer(n.id);break;case structurizr.constants.CONTAINER_INSTANCE_ELEMENT_TYPE:this.navigateToContainer(n.containerId);break}});ve(this,"handleLocationChange",({location:t})=>{new URLSearchParams(t.search);const r=Xe(t);r&&r!==oe(this,ce).getCurrentView().key&&this.setDiagram(r)});ve(this,"setDiagram",t=>{oe(this,ce).changeView(t,this.resetZoom)});ve(this,"resetZoom",()=>{oe(this,se)&&oe(this,se).destroy();const t=document.querySelector("#structurizr-diagram-target-canvas");xe(this,se,Be(t,{canvas:!0}));const r=n=>{const v=n.deltaY===0&&n.deltaX?n.deltaX:n.deltaY,b=oe(this,se).getScale()*Math.exp(v*.3*-1/300);oe(this,se).zoomToPoint(b,n)};t.parentElement.addEventListener("wheel",r)});xe(this,ce,t),oe(this,ce).onElementDoubleClicked(this.handleElementDoubleClick),de.listen(this.handleLocationChange)}syncDiagramWithURL(){Xe(de.location)?this.handleLocationChange(de):we(structurizr.workspace.getViews()[0].key)}navigateToSoftwareSystem(t){const r=oe(this,ce).getCurrentView();let n;r.type===structurizr.constants.SYSTEM_LANDSCAPE_VIEW_TYPE||r.softwareSystemId!==t.id?(n=structurizr.workspace.findSystemContextViewsForSoftwareSystem(t.id),n.length||(n=structurizr.workspace.findContainerViewsForSoftwareSystem(t.id))):r.type===structurizr.constants.SYSTEM_CONTEXT_VIEW_TYPE&&(n=structurizr.workspace.findContainerViewsForSoftwareSystem(t.id)),n.length&&we(n[0].key)}navigateToContainer(t){const r=structurizr.workspace.findComponentViewsForContainer(t);r.length&&we(r[0].key)}}ce=new WeakMap,se=new WeakMap;function we(e){const t=new URLSearchParams(de.location.search);t.set("diagram",e),de.push({search:t.toString()})}function Xe(e){return new URLSearchParams(e.search).get("diagram")}var ut=lt;function ft(e){return function(t,r){var n=typeof e=="string"?t[e]:e(t),v=typeof e=="string"?r[e]:e(r);if(typeof n=="string"&&typeof v=="string"){var f=n.toUpperCase(),b=v.toUpperCase();return f<b?-1:f>b?1:0}return n-v}}function lt(e,t){if(!Array.isArray(e))throw new Error("arr should be an array");if(t!==void 0&&typeof t!="string"&&typeof t!="function")throw new Error("iteratee should be a string or a function");if(e.length<=1)return e;var r=e.slice();return t?r.sort(ft(t)):r.sort(function(n,v){return n-v})}var Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te={},vt={get exports(){return Te},set exports(e){Te=e}};(function(e,t){(function(r,n){e.exports=n()})(Re,function(){function r(n){var v=document,f=n.container||v.createElement("div"),b=n.preventSubmit||0;f.id=f.id||"autocomplete-"+Z();var C=f.style,T=n.debounceWaitMs||0,H=n.disableAutoSelect||!1,W=f.parentElement,k=[],R="",G=2,j=n.showOnFocus,X,ee=0,ne,Q=!1,q=!1;if(n.minLength!==void 0&&(G=n.minLength),!n.input)throw new Error("input undefined");var y=n.input;f.className="autocomplete "+(n.className||""),f.setAttribute("role","listbox"),y.setAttribute("role","combobox"),y.setAttribute("aria-expanded","false"),y.setAttribute("aria-autocomplete","list"),y.setAttribute("aria-controls",f.id),y.setAttribute("aria-owns",f.id),y.setAttribute("aria-activedescendant",""),y.setAttribute("aria-haspopup","listbox"),C.position="absolute";function Z(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}function te(){var g=f.parentNode;g&&g.removeChild(f)}function E(){ne&&window.clearTimeout(ne)}function L(){f.parentNode||(W||v.body).appendChild(f)}function P(){return!!f.parentNode}function z(){ee++,k=[],R="",X=void 0,y.setAttribute("aria-activedescendant",""),y.setAttribute("aria-expanded","false"),te()}function D(){if(!P())return;y.setAttribute("aria-expanded","true"),C.height="auto",C.width=y.offsetWidth+"px";var g=0,w;function N(){var M=v.documentElement,$=M.clientTop||v.body.clientTop||0,I=M.clientLeft||v.body.clientLeft||0,ie=window.pageYOffset||M.scrollTop,re=window.pageXOffset||M.scrollLeft;w=y.getBoundingClientRect();var U=w.top+y.offsetHeight+ie-$,le=w.left+re-I;C.top=U+"px",C.left=le+"px",g=window.innerHeight-(w.top+y.offsetHeight),g<0&&(g=0),C.top=U+"px",C.bottom="",C.left=le+"px",C.maxHeight=g+"px"}N(),N(),n.customize&&w&&n.customize(y,w,f,g)}function x(){f.textContent="",y.setAttribute("aria-activedescendant","");var g=function(I,ie,re){var U=v.createElement("div");return U.textContent=I.label||"",U};n.render&&(g=n.render);var w=function(I,ie){var re=v.createElement("div");return re.textContent=I,re};n.renderGroup&&(w=n.renderGroup);var N=v.createDocumentFragment(),M=Z();if(k.forEach(function(I,ie){if(I.group&&I.group!==M){M=I.group;var re=w(I.group,R);re&&(re.className+=" group",N.appendChild(re))}var U=g(I,R,ie);U&&(U.id=f.id+"_"+ie,U.setAttribute("role","option"),U.addEventListener("click",function(le){q=!0;try{n.onSelect(I,y)}finally{q=!1}z(),le.preventDefault(),le.stopPropagation()}),I===X&&(U.className+=" selected",U.setAttribute("aria-selected","true"),y.setAttribute("aria-activedescendant",U.id)),N.appendChild(U))}),f.appendChild(N),k.length<1)if(n.emptyMsg){var $=v.createElement("div");$.id=f.id+"_"+Z(),$.className="empty",$.textContent=n.emptyMsg,f.appendChild($),y.setAttribute("aria-activedescendant",$.id)}else{z();return}L(),D(),h()}function J(){P()&&x()}function Y(){J()}function p(g){g.target!==f?J():g.preventDefault()}function i(){q||_(0)}function h(){var g=f.getElementsByClassName("selected");if(g.length>0){var w=g[0],N=w.previousElementSibling;if(N&&N.className.indexOf("group")!==-1&&!N.previousElementSibling&&(w=N),w.offsetTop<f.scrollTop)f.scrollTop=w.offsetTop;else{var M=w.offsetTop+w.offsetHeight,$=f.scrollTop+f.offsetHeight;M>$&&(f.scrollTop+=M-$)}}}function m(){var g=k.indexOf(X);X=g===-1?void 0:k[(g+k.length-1)%k.length],o(g)}function a(){var g=k.indexOf(X);X=k.length<1?void 0:g===-1?k[0]:k[(g+1)%k.length],o(g)}function o(g){k.length>0&&(c(g),s(k.indexOf(X)),h())}function s(g){var w=v.getElementById(f.id+"_"+g);w&&(w.classList.add("selected"),w.setAttribute("aria-selected","true"),y.setAttribute("aria-activedescendant",w.id))}function c(g){var w=v.getElementById(f.id+"_"+g);w&&(w.classList.remove("selected"),w.removeAttribute("aria-selected"),y.removeAttribute("aria-activedescendant"))}function u(g,w){var N=P();if(w==="Escape")z();else{if(!N||k.length<1)return;w==="ArrowUp"?m():a()}g.preventDefault(),N&&g.stopPropagation()}function l(g){if(X){b===2&&g.preventDefault(),q=!0;try{n.onSelect(X,y)}finally{q=!1}z()}b===1&&g.preventDefault()}function d(g){var w=g.key;switch(w){case"ArrowUp":case"ArrowDown":case"Escape":u(g,w);break;case"Enter":l(g);break}}function S(){j&&_(1)}function _(g){y.value.length>=G||g===1?(E(),ne=window.setTimeout(function(){return A(y.value,g,y.selectionStart||0)},g===0||g===2?T:0)):z()}function A(g,w,N){if(!Q){var M=++ee;n.fetch(g,function($){ee===M&&$&&(k=$,R=g,X=k.length<1||H?void 0:k[0],x())},w,N)}}function O(g){if(n.keyup){n.keyup({event:g,fetch:function(){return _(0)}});return}!P()&&g.key==="ArrowDown"&&_(0)}function V(g){n.click&&n.click({event:g,fetch:function(){return _(2)}})}function K(){setTimeout(function(){v.activeElement!==y&&z()},200)}function ae(){A(y.value,3,y.selectionStart||0)}f.addEventListener("mousedown",function(g){g.stopPropagation(),g.preventDefault()}),f.addEventListener("focus",function(){return y.focus()}),te();function F(){y.removeEventListener("focus",S),y.removeEventListener("keyup",O),y.removeEventListener("click",V),y.removeEventListener("keydown",d),y.removeEventListener("input",i),y.removeEventListener("blur",K),window.removeEventListener("resize",Y),v.removeEventListener("scroll",p,!0),y.removeAttribute("role"),y.removeAttribute("aria-expanded"),y.removeAttribute("aria-autocomplete"),y.removeAttribute("aria-controls"),y.removeAttribute("aria-activedescendant"),y.removeAttribute("aria-owns"),y.removeAttribute("aria-haspopup"),E(),z(),Q=!0}return y.addEventListener("keyup",O),y.addEventListener("click",V),y.addEventListener("keydown",d),y.addEventListener("input",i),y.addEventListener("blur",K),y.addEventListener("focus",S),window.addEventListener("resize",Y),v.addEventListener("scroll",p,!0),{destroy:F,fetch:ae}}return r})})(vt);var ke={},dt={get exports(){return ke},set exports(e){ke=e}};(function(e){((t,r)=>{e.exports?e.exports=r():t.fuzzysort=r()})(Re,t=>{var r=(p,i)=>{if(p=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!p||!i)return x;var h=W(p);L(i)||(i=H(i));var m=h.bitflags;return(m&i._bitflags)!==m?x:R(h,i)},n=(p,i,h)=>{if(p=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:i?i[0]:x}];if(!p)return h&&h.all?k(p,i,h):D;var m=W(p),a=m.bitflags;m.containsSpace;var o=h&&h.threshold||z,s=h&&h.limit||P,c=0,u=0,l=i.length;if(h&&h.key)for(var d=h.key,S=0;S<l;++S){var _=i[S],A=E(_,d);if(A&&(L(A)||(A=H(A)),(a&A._bitflags)===a)){var O=R(m,A);O!==x&&(O.score<o||(O={target:O.target,_targetLower:"",_targetLowerCodes:x,_nextBeginningIndexes:x,_bitflags:0,score:O.score,_indexes:O._indexes,obj:_},c<s?(Y.add(O),++c):(++u,O.score>Y.peek().score&&Y.replaceTop(O))))}}else if(h&&h.keys)for(var V=h.scoreFn||te,K=h.keys,ae=K.length,S=0;S<l;++S){for(var _=i[S],F=new Array(ae),g=0;g<ae;++g){var d=K[g],A=E(_,d);if(!A){F[g]=x;continue}L(A)||(A=H(A)),(a&A._bitflags)!==a?F[g]=x:F[g]=R(m,A)}F.obj=_;var w=V(F);w!==x&&(w<o||(F.score=w,c<s?(Y.add(F),++c):(++u,w>Y.peek().score&&Y.replaceTop(F))))}else for(var S=0;S<l;++S){var A=i[S];if(A&&(L(A)||(A=H(A)),(a&A._bitflags)===a)){var O=R(m,A);O!==x&&(O.score<o||(c<s?(Y.add(O),++c):(++u,O.score>Y.peek().score&&Y.replaceTop(O))))}}if(c===0)return D;for(var N=new Array(c),S=c-1;S>=0;--S)N[S]=Y.poll();return N.total=c+u,N},v=(p,i,h)=>{if(typeof i=="function")return f(p,i);if(p===x)return x;i===void 0&&(i="<b>"),h===void 0&&(h="</b>");var m="",a=0,o=!1,s=p.target,c=s.length,u=p._indexes;u=u.slice(0,u.len).sort((S,_)=>S-_);for(var l=0;l<c;++l){var d=s[l];if(u[a]===l){if(++a,o||(o=!0,m+=i),a===u.length){m+=d+h+s.substr(l+1);break}}else o&&(o=!1,m+=h);m+=d}return m},f=(l,i)=>{if(l===x)return x;var h=l.target,m=h.length,a=l._indexes;a=a.slice(0,a.len).sort((_,A)=>_-A);for(var o="",s=0,c=0,u=!1,l=[],d=0;d<m;++d){var S=h[d];if(a[c]===d){if(++c,u||(u=!0,l.push(o),o=""),c===a.length){o+=S,l.push(i(o,s++)),o="",l.push(h.substr(d+1));break}}else u&&(u=!1,l.push(i(o,s++)),o="");o+=S}return l},b=p=>p._indexes.slice(0,p._indexes.len).sort((i,h)=>i-h),C=p=>{typeof p!="string"&&(p="");var i=j(p);return{target:p,_targetLower:i._lower,_targetLowerCodes:i.lowerCodes,_nextBeginningIndexes:x,_bitflags:i.bitflags,score:x,_indexes:[0],obj:x}},T=p=>{typeof p!="string"&&(p=""),p=p.trim();var i=j(p),h=[];if(i.containsSpace){var m=p.split(/\s+/);m=[...new Set(m)];for(var a=0;a<m.length;a++)if(m[a]!==""){var o=j(m[a]);h.push({lowerCodes:o.lowerCodes,_lower:m[a].toLowerCase(),containsSpace:!1})}}return{lowerCodes:i.lowerCodes,bitflags:i.bitflags,containsSpace:i.containsSpace,_lower:i._lower,spaceSearches:h}},H=p=>{if(p.length>999)return C(p);var i=Q.get(p);return i!==void 0||(i=C(p),Q.set(p,i)),i},W=p=>{if(p.length>999)return T(p);var i=q.get(p);return i!==void 0||(i=T(p),q.set(p,i)),i},k=(p,i,h)=>{var m=[];m.total=i.length;var a=h&&h.limit||P;if(h&&h.key)for(var o=0;o<i.length;o++){var s=i[o],c=E(s,h.key);if(c){L(c)||(c=H(c)),c.score=z,c._indexes.len=0;var u=c;if(u={target:u.target,_targetLower:"",_targetLowerCodes:x,_nextBeginningIndexes:x,_bitflags:0,score:c.score,_indexes:x,obj:s},m.push(u),m.length>=a)return m}}else if(h&&h.keys)for(var o=0;o<i.length;o++){for(var s=i[o],l=new Array(h.keys.length),d=h.keys.length-1;d>=0;--d){var c=E(s,h.keys[d]);if(!c){l[d]=x;continue}L(c)||(c=H(c)),c.score=z,c._indexes.len=0,l[d]=c}if(l.obj=s,l.score=z,m.push(l),m.length>=a)return m}else for(var o=0;o<i.length;o++){var c=i[o];if(c&&(L(c)||(c=H(c)),c.score=z,c._indexes.len=0,m.push(c),m.length>=a))return m}return m},R=(p,i,h=!1)=>{if(h===!1&&p.containsSpace)return G(p,i);for(var m=p._lower,a=p.lowerCodes,o=a[0],s=i._targetLowerCodes,c=a.length,u=s.length,_=0,l=0,d=0;;){var S=o===s[l];if(S){if(y[d++]=l,++_,_===c)break;o=a[_]}if(++l,l>=u)return x}var _=0,A=!1,O=0,V=i._nextBeginningIndexes;V===x&&(V=i._nextBeginningIndexes=ee(i.target)),l=y[0]===0?0:V[y[0]-1];var K=0;if(l!==u)for(;;)if(l>=u){if(_<=0||(++K,K>200))break;--_;var ae=Z[--O];l=V[ae]}else{var S=a[_]===s[l];if(S){if(Z[O++]=l,++_,_===c){A=!0;break}++l}else l=V[l]}var F=i._targetLower.indexOf(m,y[0]),g=~F;if(g&&!A)for(var w=0;w<d;++w)y[w]=F+w;var N=!1;g&&(N=i._nextBeginningIndexes[F-1]===F);{if(A)var M=Z,$=O;else var M=y,$=d;for(var I=0,ie=0,w=1;w<c;++w)M[w]-M[w-1]!==1&&(I-=M[w],++ie);var re=M[c-1]-M[0]-(c-1);if(I-=(12+re)*ie,M[0]!==0&&(I-=M[0]*M[0]*.2),!A)I*=1e3;else{for(var U=1,w=V[0];w<u;w=V[w])++U;U>24&&(I*=(U-24)*10)}g&&(I/=1+c*c*1),N&&(I/=1+c*c*1),I-=u-c,i.score=I;for(var w=0;w<$;++w)i._indexes[w]=M[w];return i._indexes.len=$,i}},G=(p,i)=>{for(var h=new Set,m=0,a=x,o=0,s=p.spaceSearches,d=0;d<s.length;++d){var c=s[d];if(a=R(c,i),a===x)return x;m+=a.score,a._indexes[0]<o&&(m-=o-a._indexes[0]),o=a._indexes[0];for(var u=0;u<a._indexes.len;++u)h.add(a._indexes[u])}var l=R(p,i,!0);if(l!==x&&l.score>m)return l;a.score=m;var d=0;for(let S of h)a._indexes[d++]=S;return a._indexes.len=d,a},j=p=>{for(var i=p.length,h=p.toLowerCase(),m=[],a=0,o=!1,s=0;s<i;++s){var c=m[s]=h.charCodeAt(s);if(c===32){o=!0;continue}var u=c>=97&&c<=122?c-97:c>=48&&c<=57?26:c<=127?30:31;a|=1<<u}return{lowerCodes:m,bitflags:a,containsSpace:o,_lower:h}},X=p=>{for(var i=p.length,h=[],m=0,a=!1,o=!1,s=0;s<i;++s){var c=p.charCodeAt(s),u=c>=65&&c<=90,l=u||c>=97&&c<=122||c>=48&&c<=57,d=u&&!a||!o||!l;a=u,o=l,d&&(h[m++]=s)}return h},ee=p=>{for(var i=p.length,h=X(p),m=[],a=h[0],o=0,s=0;s<i;++s)a>s?m[s]=a:(a=h[++o],m[s]=a===void 0?i:a);return m},ne=()=>{Q.clear(),q.clear(),y=[],Z=[]},Q=new Map,q=new Map,y=[],Z=[],te=p=>{for(var i=z,h=p.length,m=0;m<h;++m){var a=p[m];if(a!==x){var o=a.score;o>i&&(i=o)}}return i===z?x:i},E=(p,i)=>{var h=p[i];if(h!==void 0)return h;var m=i;Array.isArray(i)||(m=i.split("."));for(var a=m.length,o=-1;p&&++o<a;)p=p[m[o]];return p},L=p=>typeof p=="object",P=1/0,z=-P,D=[];D.total=0;var x=null,J=p=>{var i=[],h=0,m={},a=o=>{for(var s=0,c=i[s],u=1;u<h;){var l=u+1;s=u,l<h&&i[l].score<i[u].score&&(s=l),i[s-1>>1]=i[s],u=1+(s<<1)}for(var d=s-1>>1;s>0&&c.score<i[d].score;d=(s=d)-1>>1)i[s]=i[d];i[s]=c};return m.add=o=>{var s=h;i[h++]=o;for(var c=s-1>>1;s>0&&o.score<i[c].score;c=(s=c)-1>>1)i[s]=i[c];i[s]=o},m.poll=o=>{if(h!==0){var s=i[0];return i[0]=i[--h],a(),s}},m.peek=o=>{if(h!==0)return i[0]},m.replaceTop=o=>{i[0]=o,a()},m},Y=J();return{single:r,go:n,highlight:v,prepare:C,indexes:b,cleanup:ne}})})(dt);class pt{constructor(){const t=ht(),r=document.querySelector("#searchbox");Te({input:r,emptyMsg:"No matches",fetch:function(n,v){v(n?ke.go(n,t,{keys:["key","title"]}).map(({obj:f})=>f):t)},onSelect:function({key:n}){we(n),r.blur(),r.value=""},render:function({key:n,title:v,description:f}){const b=document.createElement("div");return b.className="autocomplete-option",b.innerHTML=`${v||n}${f?`<br /><small>${f}</small>`:""}`,b},minLength:0,showOnFocus:!0,click:n=>n.fetch()}),document.body.addEventListener("keyup",n=>{(n.key===" "||n.code==="Space"||n.keyCode===32)&&document.activeElement!==r&&r.focus()})}}function ht(){const e={...structurizr.workspace.views};return delete e.configuration,ut([].concat(...Object.values(e)),({key:t})=>t)}class gt{constructor(t,r){document.querySelector("#export").addEventListener("click",()=>{t.exportCurrentDiagramToPNG(!0,!1,n=>{r.util.downloadDataUri(n,`${t.getCurrentView().key}.png`)})})}}class mt{constructor(t){new ResizeObserver(()=>{t.resize(),t.zoomToWidthOrHeight()}).observe(document.body)}}async function wt(e){const r=await(await fetch("workspace.json")).json();e.workspace=new e.Workspace(r),e.ui.loadThemes(()=>{const f=new e.ui.Diagram("structurizr-diagram-target",!1,()=>{f.setNavigationEnabled(!0);const b=new st(f);b.setDiagram(e.workspace.getViews()[0].key),b.syncDiagramWithURL(),new pt,new gt(f,window.joint),new mt(f)})});const v=await(await fetch("nav.json")).json();document.querySelector(".nav-links").innerHTML=v.links.map(({text:f,href:b})=>`<a href='${b}' target='_blank'>${f}</a>`).join("")}wt(window.structurizr);
